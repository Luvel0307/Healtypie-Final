"use strict";(()=>{var e={};e.id=963,e.ids=[963],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},7099:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>v,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var n={};t.r(n),t.d(n,{POST:()=>p,dynamic:()=>d});var a=t(9182),i=t(2007),s=t(6719),o=t(3442),u=t(5970);let d="force-dynamic";async function p(e){try{let{evaluacionId:r}=await e.json();if(!r)return o.NextResponse.json({error:"ID de evaluaci\xf3n requerido"},{status:400});let t=await u._.evaluacion.findUnique({where:{id:parseInt(r)},include:{paciente:!0}});if(!t)return o.NextResponse.json({error:"Evaluaci\xf3n no encontrada"},{status:404});let n={...t,riesgo:Number(t.riesgo),areaLesion:Number(t.areaLesion),desvEstR:Number(t.desvEstR),mediaR:Number(t.mediaR),mediaG:Number(t.mediaG),mediaB:Number(t.mediaB)};return o.NextResponse.json({success:!0,evaluacion:n})}catch(e){return console.error("Error getting evaluation for PDF:",e),o.NextResponse.json({error:"Error interno del servidor"},{status:500})}}let c=new a.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/generate-pdf/route",pathname:"/api/generate-pdf",filename:"route",bundlePath:"app/api/generate-pdf/route"},resolvedPagePath:"/home/ubuntu/sistema_pie_diabetico/app/app/api/generate-pdf/route.ts",nextConfigOutput:"",userland:n}),{requestAsyncStorage:l,staticGenerationAsyncStorage:m,serverHooks:g}=c,v="/api/generate-pdf/route";function f(){return(0,s.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},5970:(e,r,t)=>{t.d(r,{_:()=>i});let n=require("@prisma/client");class a{getClient(){return this.client||(this.client=new n.PrismaClient({log:["error"]})),this.client}constructor(){this.client=null}}let i=new a().getClient()}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),n=r.X(0,[372,609],()=>t(7099));module.exports=n})();